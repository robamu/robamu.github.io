<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Packaging Python Projects in 2023 | hi, I am robin</title>
<meta name=keywords content="python,packaging,pip,workshop"><meta name=description content="Learning clean package management with Pyhon is still a tricky subject even though there are a lot
of resources available online. A lot of the resources found online only cover partial topics while
others make recommendations which are becoming slowly obsolete, for example by still using
setup.py. In this post, I will show how to set up a new package in Python from
scratch with all features I consider useful and important for a good Python package. I really like
the packaging blogpost Bastian Venthur about
the current best practices of Python packaging, which is worth a read as well."><meta name=author content><link rel=canonical href=https://robamu.github.io/blog/packaging-python-in-2023/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://robamu.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://robamu.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://robamu.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://robamu.github.io/apple-touch-icon.png><link rel=mask-icon href=https://robamu.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://robamu.github.io/blog/packaging-python-in-2023/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://robamu.github.io/blog/packaging-python-in-2023/"><meta property="og:site_name" content="hi, I am robin"><meta property="og:title" content="Packaging Python Projects in 2023"><meta property="og:description" content="Learning clean package management with Pyhon is still a tricky subject even though there are a lot of resources available online. A lot of the resources found online only cover partial topics while others make recommendations which are becoming slowly obsolete, for example by still using setup.py. In this post, I will show how to set up a new package in Python from scratch with all features I consider useful and important for a good Python package. I really like the packaging blogpost Bastian Venthur about the current best practices of Python packaging, which is worth a read as well."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-09-04T16:32:41+02:00"><meta property="article:modified_time" content="2023-10-03T19:46:45+02:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="Packaging"><meta property="article:tag" content="Pip"><meta property="article:tag" content="Workshop"><meta name=twitter:card content="summary"><meta name=twitter:title content="Packaging Python Projects in 2023"><meta name=twitter:description content="Learning clean package management with Pyhon is still a tricky subject even though there are a lot
of resources available online. A lot of the resources found online only cover partial topics while
others make recommendations which are becoming slowly obsolete, for example by still using
setup.py. In this post, I will show how to set up a new package in Python from
scratch with all features I consider useful and important for a good Python package. I really like
the packaging blogpost Bastian Venthur about
the current best practices of Python packaging, which is worth a read as well."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"","item":"https://robamu.github.io/blog/"},{"@type":"ListItem","position":2,"name":"Packaging Python Projects in 2023","item":"https://robamu.github.io/blog/packaging-python-in-2023/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Packaging Python Projects in 2023","name":"Packaging Python Projects in 2023","description":"Learning clean package management with Pyhon is still a tricky subject even though there are a lot of resources available online. A lot of the resources found online only cover partial topics while others make recommendations which are becoming slowly obsolete, for example by still using setup.py. In this post, I will show how to set up a new package in Python from scratch with all features I consider useful and important for a good Python package. I really like the packaging blogpost Bastian Venthur about the current best practices of Python packaging, which is worth a read as well.\n","keywords":["python","packaging","pip","workshop"],"articleBody":"Learning clean package management with Pyhon is still a tricky subject even though there are a lot of resources available online. A lot of the resources found online only cover partial topics while others make recommendations which are becoming slowly obsolete, for example by still using setup.py. In this post, I will show how to set up a new package in Python from scratch with all features I consider useful and important for a good Python package. I really like the packaging blogpost Bastian Venthur about the current best practices of Python packaging, which is worth a read as well.\nThe package will have following properties, which can be adapted based on preference and use-case:\nUses pyproject.toml, which is now the recommended standard by PyPA, and makes integration with other tools inside the Pyton ecosystem easier. Uses setuptools as the distribution and build tool. Uses Sphinx, reStructuredText and the sphinx-rtd-theme for writing, building and rendering the documentation. Has a single-sourced version inside the pyproject.toml file. Is licensed using the permissive MIT license. Has a CHANGELOG to list all changes between versions. Has a unittest folder with tests which can be executed with pytest or any other test framework. Has examples inside the documentation which can also be automatically tested using doctest. Has a working GitHub CI/CD configuration. I recommend black as the auto-formatter and ruff as a linter. The pyproject.toml has some basic configuration for ruff. All the shell instructions were written for an Ubuntu system, so those might need adaptions if your are using Windows or another OS.\nWriting the source code We will write a Catlifier class first which is then packaged. The Catlifier uses the crcmod package because I would also like to showcase cross-referencing other libraries in the documentation at a later stage.\nLet‚Äôs create the project folder and some python code first:\nmkdir catlifier-py cd catlifier-py touch catlifier.py Here is the python code:\nfrom __future__ import annotations from crcmod.predefined import PredefinedCrc def get_catlifier_crc_calculator() -\u003e PredefinedCrc: return PredefinedCrc(\"crc-ccitt-false\") class Catlifier: def __init__(self, base_text: str): self.base_text = base_text self.crc_calculator = PredefinedCrc(\"crc-ccitt-false\") def catlify(self) -\u003e str: \"\"\"\"Catlify a given string. Also updates internal CRC calculator with catlified data.\"\"\" catlified = self.base_text + \"üêà\" self.crc_calculator.new() self.crc_calculator.update(catlified.encode()) return catlified @classmethod def uncatlify(cls, catlified_text: str) -\u003e Catlifier: \"\"\"Generates a new :py:class:`Catlifier` instance from a catlified text. \"\"\" stripped_text = catlified_text.rstrip(\"üêà\") instance = cls(stripped_text) instance.crc_calculator.update(catlified_text.encode()) return instance First, we need to convert our directory structure into a format which can be used by something like setuptools. We use the source layout. You can read more about the distinction between source layout and flat layout here. We also add a __init__.py to mark the directory as a package directory.\nmkdir src mv catlifier.py src touch __init__.py Writing the package configuration file As the next step, we create the pyproject.toml package configuration file.\n[build-system] requires = [\"setuptools\u003e=61.0\"] build-backend = \"setuptools.build_meta\" [project] name = \"catlifier\" description = \"My catlifier library\" readme = \"README.md\" license = { text = \"MIT\" } version = \"0.1.0\" requires-python = \"\u003e=3.8\" authors = [ {name = \"Robin Mueller\", email = \"robin.mueller.m@gmail.com\"} ] keywords = [\"cats\", \"purr\", \"packaging\"] classifiers = [ \"Development Status :: 5 - Production/Stable\", \"Natural Language :: English\", \"Operating System :: POSIX\", \"Operating System :: Microsoft :: Windows\", \"Programming Language :: Python :: 3\", \"Programming Language :: Python :: 3.8\", \"Programming Language :: Python :: 3.9\", \"Topic :: Communications\", \"Topic :: Software Development :: Libraries\", \"Topic :: Software Development :: Libraries :: Python Modules\", ] dependencies = [ \"crcmod~=1.7\", ] [project.urls] \"Homepage\" = \"https://github.com/robamu/catlifier-py\" [tool.ruff] ignore = [\"E501\"] [tool.ruff.extend-per-file-ignores] \"__init__.py\" = [\"F401\"] There are various ways of single-sourcing the Python version, and the most common ways were listed here.\nI really like the variant 5, which puts the version information into the package configuration and uses the new import.metadata API to retrieve the version if this becomes necessary. This means I don‚Äôt have to make changes inside the source code for version bumps anymore.\nThe pyproject.toml includes also some basic configuration for the ruff Python linter to make it play nice with re-exports. The directory tree should look like this now:\ncatlifier-py ‚îú‚îÄ‚îÄ pyproject.toml ‚îî‚îÄ‚îÄ src ‚îî‚îÄ‚îÄ catlifier.py ‚îî‚îÄ‚îÄ __init__.py This is all that is required for a package which can be re-distributed and uploaded to a package index! You can test building your package using build. We also set up a virtual environment inside a venv folder to keep the system python clean:\npython3 -m venv venv . venv/bin/activate pip install build python3 -m build . All following shell commands will assume an active virtual environment.\nI still add a requirements.txt file to the package, but I simply forward the requirements to pyproject.toml because this is a pure library. If your are working on a project with a binary where exact pinning of dependency versions is important, for example for a deployment, you should adapt the requirements.txt for your needs.\nThe content of the requirements.txt file for my case is simple:\n. I usually also add the GitHub Python .gitignore to my Python projects, which contains everything that should not be part of version control.\nFinally, I also add a LICENSE file for the MIT license. If you are thinking about publishing your work, I strongly recommend adding a LICENSE to your project. The MIT license is one of the more permissive onces, so I added this in the example project.\nFor something like MIT, all you need to do is to add the license text as part of a LICENSE file and replace the placeholders for year and the copyright holder.\nAdding unittests Next, we add some tests for out catlifier module. These will also be automatically executed by the CI at a later stage. We will keep our tests outside the source code. The pytest documentation provides a bit of reasoning why it makes sense to keep the tests seperated from the source code.\nPlease note that the test_ prefix for the test module names is necessary for pytest to find the test modules. The __init__.py module specifier is optional for pytest, but is useful for other test frameworks like unittest to find all the tests.\nmkdir tests touch test_catlifier.py touch __init__.py Here is the test code for test_catlifier.py\nfrom unittest import TestCase from catlifier import Catlifier class TestCatlifier(TestCase): def setUp(self) -\u003e None: self.test_str = \"hello world\" def test_catlify(self): catlifier = Catlifier(self.test_str) catlified = catlifier.catlify() self.assertEqual(catlifier.base_text, self.test_str) self.assertEqual(catlified, self.test_str + \"üêà\") def test_uncatlify(self): catlified = self.test_str + \"üêà\" catlifier = Catlifier.uncatlify(catlified) self.assertEqual(catlifier.base_text, self.test_str) We install pytest first:\npip install pytest You can test your package using the following command\npython3 -m pytest . Pytest should be able to find all the tests inside the tests directory as long as they use the test_* naming convention.\nAdding Sphinx documentation Next, we set up Sphinx to generate documentation for out Catlifier from the source code automatically. This can be done using the autodoc extension. We also want to use the intersphinx extension to provide cross-referencing to external packages like crcmod and the doctest extension to automatically test code examples inside the documentation which we marked specifically.\nFinally, I also added the shinx_rtd_theme which is a bit cleaner and and more readable than the default Alabaster theme provided by Sphinx by default in my opinion.\nWe create a documentation folder first and install all required packages.\npip install sphinx-rtd-theme mkdir docs cd docs sphinx-quickstart --no-sep -p \"Catlifier\" -a \"Robin Mueller\" -r \"0.1.0\" -l en This gives us a good starting point with a conf.py lookling like this:\n# Configuration file for the Sphinx documentation builder. # # For the full list of built-in configuration values, see the documentation: # https://www.sphinx-doc.org/en/master/usage/configuration.html # -- Project information ----------------------------------------------------- # https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information from importlib.metadata import version project = 'Catlifier' copyright = '2023, Robin Mueller' author = 'Robin Mueller' release = \"0.1.0\" # -- General configuration --------------------------------------------------- # https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration extensions = [] templates_path = ['_templates'] exclude_patterns = ['_build', 'Thumbs.db', '.DS_Store'] language = 'en' # -- Options for HTML output ------------------------------------------------- # https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output html_theme = 'alabaster' html_static_path = ['_static'] Next, we make all the necessary adaptions to the configuration file:\n# Configuration file for the Sphinx documentation builder. # # For the full list of built-in configuration values, see the documentation: # https://www.sphinx-doc.org/en/master/usage/configuration.html # -- Project information ----------------------------------------------------- # https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information from importlib.metadata import version project = 'Catlifier' copyright = '2023, Robin Mueller' author = 'Robin Mueller' # Use importlib.metadata API to extract version automatically version = release = version(\"catlifier\") # -- General configuration --------------------------------------------------- # https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration extensions = [ \"sphinx.ext.autodoc\", \"sphinx.ext.intersphinx\", \"sphinx.ext.doctest\", \"sphinx_rtd_theme\", ] # Disable the doctests of the full package because those would require the explicit specification # of imports. The doctests inside the source code are covered by pytest, using the --doctest-modules # configuration option. doctest_test_doctest_blocks = \"\" templates_path = ['_templates'] exclude_patterns = ['_build', 'Thumbs.db', '.DS_Store'] # Mapping for external packages intersphinx_mapping = { \"python\": (\"https://docs.python.org/3\", None), \"crcmod\": (\"https://crcmod.sourceforge.net/\", None) } language = 'en' # -- Options for HTML output ------------------------------------------------- # https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output html_theme = \"sphinx_rtd_theme\" html_static_path = ['_static'] Next, we add example code, which will be automatically tested by the doctest extension. We create a new examples.rst inside the docs folder with the following content:\nExamples =========== Example usage .. testcode:: catlifier from catlifier import Catlifier test_string = \"hello world\" catlifier = Catlifier(test_string) print(catlifier.catlify()) Output: .. testoutput:: catlifier hello worldüêà doctest will automatically testcode sections and verify their output against the testoutput section. You can also add doctests inside the documentation blocks of your source code, but for those it might be better to test them with another tool like pytest.\nWe would also like to document our API, and generate that documentation automatically from the source code. For this, we create a new api.rst with the following content:\nAPI ==== .. automodule:: catlifier :members: :undoc-members: :show-inheritance: Then, we create a new documentation table of content inside the index.rst file:\nWelcome to Catlifer's documentation! ==================================== .. toctree:: :maxdepth: 2 :caption: Contents: .. toctree:: :maxdepth: 3 examples api Indices and tables ================== * :ref:`genindex` * :ref:`modindex` * :ref:`search` We can now build the documentation using make html inside the docs folder.\ncd docs make html firefox _build/html/index.html If you check the API documentation, you should also see that the PredefinedCrc cross-reference is working properly.\nYou can test the examples using\ncd docs make doctest The best thing about this is that this can be checked in the CI, so you can catch your examples becoming out of data, for example when the API changes.\nThis is a good starting point for providing useful documentation for users üéâ. If you work on an open-source project, you should also consider a service like readthedocs where you can host the documentation of your package for free.\nAs a final step, I also like to add a docs specific requirements.txt file which only includes the dependencies for building the documentation with the following content.\ndocs/requirements.txt:\nsphinx-rtd-theme==1.2.0 Testing the upload of the package Most of the following steps are based on the official packaging tutorial. We have the most important components of our package and would like to upload it to PyPI now. We build the package first like already shown.\npython3 -m build . After that, you can create an account on Test PyPI to test your package upload without affecting the normal package index.\nWith everything in place, you can upload with\npython3 -m twine upload --repository testpypi dist/* If everything goes well, you should see your package on the Test PyPI.\nBefore uploading any package and doing releases in general, I really like to add a CHANGELOG to a project so it becomes easier for users to figure out what changed between versions. I usually use the CHANGELOG format proposed by Keep A Changelog.\nAdding GitHub CI Finally, assuming that your project is hosted on GitHub, it is relatively easy to add a CI configuration for your Python project.\nOur CI configuration will install the package, run the tests, build the documentation and lint the code with ruff. Add a .github/workflows/ci.yml file to your project:\nname: ci on: [push] jobs: build: runs-on: ${{ matrix.os }} strategy: matrix: os: [ubuntu-latest, windows-latest] python-version: ['3.8', '3.9', '3.10', '3.11'] steps: - uses: actions/checkout@v3 - name: Set up Python ${{ matrix.python-version }} uses: actions/setup-python@v4 with: python-version: ${{ matrix.python-version }} - name: Install package and dependencies run: | python3 -m pip install --upgrade pip setuptools wheel pip install . - name: Build documentation and examples run: | pip install -r docs/requirements.txt sphinx-build -b html docs docs/_build sphinx-build -b doctest docs docs/_build - name: Lint with Ruff uses: chartboost/ruff-action@v1 - name: Run tests and generate coverage data run: | python3 -m pip install coverage pytest coverage run -m pytest If you push your package to GitHub now, The GitHub code actions CI should trigger automatically.\nConclusion We have written a complete small package contaning all the features I consider important for a good Python package. I hope that this mini-workshop can help some people who are considering publishing their project to PyPI or are looking for a general guide on how to set up a Python package.\nYou can find the full resulting source code on GitHub as well. You can also have a look at the py-pkgs project which goes more indepth than this mini-workshop goes.\n","wordCount":"2206","inLanguage":"en","datePublished":"2023-09-04T16:32:41+02:00","dateModified":"2023-10-03T19:46:45+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://robamu.github.io/blog/packaging-python-in-2023/"},"publisher":{"@type":"Organization","name":"hi, I am robin","logo":{"@type":"ImageObject","url":"https://robamu.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://robamu.github.io/ accesskey=h title="hi, I am robin (Alt + H)">hi, I am robin</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://robamu.github.io/ title=Home><span>Home</span></a></li><li><a href=https://robamu.github.io/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://robamu.github.io/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://robamu.github.io/contact/ title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Packaging Python Projects in 2023</h1><div class=post-meta><span title='2023-09-04 16:32:41 +0200 +0200'>September 4, 2023</span>&nbsp;¬∑&nbsp;11 min&nbsp;¬∑&nbsp;<span id=cc2e0694404c694ac61d76b604c5c4f0 title=Views>? Views</span>
<script>var r=new XMLHttpRequest;r.addEventListener("load",function(){document.getElementById("cc2e0694404c694ac61d76b604c5c4f0").innerHTML=JSON.parse(this.responseText).count_unique+" Views"}),r.open("GET","https://robamu.goatcounter.com/counter/"+encodeURIComponent("/blog/packaging-python-in-2023/".replace(/(\/)?$/,""))+".json"),r.send()</script></div></header><div class=post-content><p>Learning clean package management with Pyhon is still a tricky subject even though there are a lot
of resources available online. A lot of the resources found online only cover partial topics while
others make recommendations which are becoming slowly obsolete, for example by still using
<code>setup.py</code>. In this post, I will show how to set up a new package in Python from
scratch with all features I consider useful and important for a good Python package. I really like
the packaging blogpost <a href=https://venthur.de/2022-12-18-python-packaging.html>Bastian Venthur</a> about
the current best practices of Python packaging, which is worth a read as well.</p><p>The package will have following properties, which can be adapted based on preference and use-case:</p><ul><li>Uses <code>pyproject.toml</code>, which is now the recommended standard by PyPA, and makes integration with
other tools inside the Pyton ecosystem easier.</li><li>Uses <a href=https://setuptools.pypa.io/en/latest/setuptools.html><code>setuptools</code></a> as the distribution
and build tool.</li><li>Uses <a href=https://www.sphinx-doc.org/en/master/><code>Sphinx</code></a>, <a href=https://docutils.sourceforge.io/rst.html><code>reStructuredText</code></a>
and the <a href=https://pypi.org/project/sphinx-rtd-theme/><code>sphinx-rtd-theme</code></a> for writing, building
and rendering the documentation.</li><li>Has a single-sourced version inside the <code>pyproject.toml</code> file.</li><li>Is licensed using the permissive MIT license.</li><li>Has a <code>CHANGELOG</code> to list all changes between versions.</li><li>Has a unittest folder with tests which can be executed with <code>pytest</code> or any other test framework.</li><li>Has examples inside the documentation which can also be automatically tested using <code>doctest</code>.</li><li>Has a working GitHub CI/CD configuration.</li><li>I recommend <a href=https://github.com/psf/black><code>black</code></a> as the auto-formatter and
<a href=https://github.com/astral-sh/ruff><code>ruff</code></a> as a linter. The <code>pyproject.toml</code> has some basic
configuration for <code>ruff</code>.</li></ul><p>All the shell instructions were written for an Ubuntu system, so those might need adaptions
if your are using Windows or another OS.</p><h2 id=writing-the-source-code>Writing the source code<a hidden class=anchor aria-hidden=true href=#writing-the-source-code>#</a></h2><p>We will write a <code>Catlifier</code> class first which is then packaged. The <code>Catlifier</code> uses the <code>crcmod</code>
package because I would also like to showcase cross-referencing other libraries in the
documentation at a later stage.</p><p>Let&rsquo;s create the project folder and some python code first:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>mkdir catlifier-py
</span></span><span class=line><span class=cl>cd catlifier-py
</span></span><span class=line><span class=cl>touch catlifier.py
</span></span></code></pre></div><p>Here is the python code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>annotations</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>crcmod.predefined</span> <span class=kn>import</span> <span class=n>PredefinedCrc</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_catlifier_crc_calculator</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>PredefinedCrc</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>PredefinedCrc</span><span class=p>(</span><span class=s2>&#34;crc-ccitt-false&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Catlifier</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base_text</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>base_text</span> <span class=o>=</span> <span class=n>base_text</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>crc_calculator</span> <span class=o>=</span> <span class=n>PredefinedCrc</span><span class=p>(</span><span class=s2>&#34;crc-ccitt-false&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>catlify</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;&#34;Catlify a given string. Also updates internal CRC calculator with catlified data.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>catlified</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>base_text</span> <span class=o>+</span> <span class=s2>&#34;üêà&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>crc_calculator</span><span class=o>.</span><span class=n>new</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>crc_calculator</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>catlified</span><span class=o>.</span><span class=n>encode</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>catlified</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>uncatlify</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>catlified_text</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Catlifier</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34;Generates a new :py:class:`Catlifier` instance from a catlified text.
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>stripped_text</span> <span class=o>=</span> <span class=n>catlified_text</span><span class=o>.</span><span class=n>rstrip</span><span class=p>(</span><span class=s2>&#34;üêà&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>instance</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span><span class=n>stripped_text</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>instance</span><span class=o>.</span><span class=n>crc_calculator</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>catlified_text</span><span class=o>.</span><span class=n>encode</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>instance</span>
</span></span></code></pre></div><p>First, we need to convert our directory structure into a format which can be used by something
like <code>setuptools</code>. We use the source layout. You can read more about the distinction between
source layout and flat layout <a href=https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/>here</a>. We also add a <code>__init__.py</code> to mark the directory as a package directory.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkdir src
</span></span><span class=line><span class=cl>mv catlifier.py src
</span></span><span class=line><span class=cl>touch __init__.py
</span></span></code></pre></div><h2 id=writing-the-package-configuration-file>Writing the package configuration file<a hidden class=anchor aria-hidden=true href=#writing-the-package-configuration-file>#</a></h2><p>As the next step, we create the <code>pyproject.toml</code> package configuration file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>build-system</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>requires</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;setuptools&gt;=61.0&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>build-backend</span> <span class=p>=</span> <span class=s2>&#34;setuptools.build_meta&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>project</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;catlifier&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;My catlifier library&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>readme</span> <span class=p>=</span> <span class=s2>&#34;README.md&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>license</span> <span class=p>=</span> <span class=p>{</span> <span class=nx>text</span> <span class=p>=</span> <span class=s2>&#34;MIT&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>version</span> <span class=p>=</span> <span class=s2>&#34;0.1.0&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>requires-python</span> <span class=p>=</span> <span class=s2>&#34;&gt;=3.8&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>authors</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;Robin Mueller&#34;</span><span class=p>,</span> <span class=nx>email</span> <span class=p>=</span> <span class=s2>&#34;robin.mueller.m@gmail.com&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>keywords</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;cats&#34;</span><span class=p>,</span> <span class=s2>&#34;purr&#34;</span><span class=p>,</span> <span class=s2>&#34;packaging&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>classifiers</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Development Status :: 5 - Production/Stable&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Natural Language :: English&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Operating System :: POSIX&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Operating System :: Microsoft :: Windows&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Programming Language :: Python :: 3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Programming Language :: Python :: 3.8&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Programming Language :: Python :: 3.9&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Topic :: Communications&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Topic :: Software Development :: Libraries&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Topic :: Software Development :: Libraries :: Python Modules&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>dependencies</span> <span class=p>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;crcmod~=1.7&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>project</span><span class=p>.</span><span class=nx>urls</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;Homepage&#34;</span> <span class=p>=</span> <span class=s2>&#34;https://github.com/robamu/catlifier-py&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>tool</span><span class=p>.</span><span class=nx>ruff</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>ignore</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;E501&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>tool</span><span class=p>.</span><span class=nx>ruff</span><span class=p>.</span><span class=nx>extend-per-file-ignores</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;__init__.py&#34;</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;F401&#34;</span><span class=p>]</span>
</span></span></code></pre></div><p>There are various ways of single-sourcing the Python version, and the most common ways
were listed <a href=https://packaging.python.org/en/latest/guides/single-sourcing-package-version/>here</a>.</p><p>I really like the variant 5, which puts the version information into the package configuration
and uses the new <a href=https://docs.python.org/3/library/importlib.metadata.html><code>import.metadata</code></a> API
to retrieve the version if this becomes necessary. This means I don&rsquo;t have to make changes inside
the source code for version bumps anymore.</p><p>The <code>pyproject.toml</code> includes also some basic configuration for the <code>ruff</code> Python linter to make
it play nice with re-exports. The directory tree should look like this now:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>catlifier-py
</span></span><span class=line><span class=cl>‚îú‚îÄ‚îÄ pyproject.toml
</span></span><span class=line><span class=cl>‚îî‚îÄ‚îÄ src
</span></span><span class=line><span class=cl>   ‚îî‚îÄ‚îÄ catlifier.py
</span></span><span class=line><span class=cl>   ‚îî‚îÄ‚îÄ __init__.py
</span></span></code></pre></div><p>This is all that is required for a package which can be re-distributed and uploaded to a package
index! You can test building your package using <code>build</code>. We also set up a virtual environment
inside a <code>venv</code> folder to keep the system python clean:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>python3 -m venv venv
</span></span><span class=line><span class=cl>. venv/bin/activate
</span></span><span class=line><span class=cl>pip install build
</span></span><span class=line><span class=cl>python3 -m build .
</span></span></code></pre></div><p>All following shell commands will assume an active virtual environment.</p><p>I still add a <code>requirements.txt</code> file to the package, but I simply forward the requirements
to <code>pyproject.toml</code> because this is a pure library. If your are working on a project with a binary
where exact pinning of dependency versions is important, for example for a deployment, you should
adapt the <code>requirements.txt</code> for your needs.</p><p>The content of the <code>requirements.txt</code> file for my case is simple:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>.
</span></span></code></pre></div><p>I usually also add the <a href=https://github.com/github/gitignore/blob/main/Python.gitignore>GitHub Python <code>.gitignore</code></a>
to my Python projects, which contains everything that should not be part of version control.</p><p>Finally, I also add a LICENSE file for the MIT license. If you are thinking about publishing
your work, I strongly recommend adding a LICENSE to your project. The MIT license is one of the more
permissive onces, so I added this in the example project.</p><p>For something like MIT, all you need to do is to add the <a href=https://opensource.org/license/mit/>license text</a>
as part of a LICENSE file and replace the placeholders for year and the copyright holder.</p><h2 id=adding-unittests>Adding unittests<a hidden class=anchor aria-hidden=true href=#adding-unittests>#</a></h2><p>Next, we add some tests for out catlifier module. These will also be automatically executed
by the CI at a later stage. We will keep our tests outside the source code.
The <a href=https://docs.pytest.org/en/stable/explanation/goodpractices.html>pytest documentation</a> provides
a bit of reasoning why it makes sense to keep the tests seperated from the source code.</p><p>Please note that the <code>test_</code> prefix for the test module names is necessary for <code>pytest</code> to
find the test modules. The <code>__init__.py</code> module specifier is optional for <code>pytest</code>, but is
useful for other test frameworks like <code>unittest</code> to find all the tests.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>mkdir tests
</span></span><span class=line><span class=cl>touch test_catlifier.py
</span></span><span class=line><span class=cl>touch __init__.py
</span></span></code></pre></div><p>Here is the test code for <code>test_catlifier.py</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>from</span> <span class=nn>unittest</span> <span class=kn>import</span> <span class=n>TestCase</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>catlifier</span> <span class=kn>import</span> <span class=n>Catlifier</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TestCatlifier</span><span class=p>(</span><span class=n>TestCase</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>setUp</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>test_str</span> <span class=o>=</span> <span class=s2>&#34;hello world&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_catlify</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>catlifier</span> <span class=o>=</span> <span class=n>Catlifier</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>test_str</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>catlified</span> <span class=o>=</span> <span class=n>catlifier</span><span class=o>.</span><span class=n>catlify</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>catlifier</span><span class=o>.</span><span class=n>base_text</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>test_str</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>catlified</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>test_str</span> <span class=o>+</span> <span class=s2>&#34;üêà&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test_uncatlify</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>catlified</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>test_str</span> <span class=o>+</span> <span class=s2>&#34;üêà&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>catlifier</span> <span class=o>=</span> <span class=n>Catlifier</span><span class=o>.</span><span class=n>uncatlify</span><span class=p>(</span><span class=n>catlified</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>assertEqual</span><span class=p>(</span><span class=n>catlifier</span><span class=o>.</span><span class=n>base_text</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>test_str</span><span class=p>)</span>
</span></span></code></pre></div><p>We install <code>pytest</code> first:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pip install pytest
</span></span></code></pre></div><p>You can test your package using the following command</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>python3 -m pytest .
</span></span></code></pre></div><p>Pytest should be able to find all the tests inside the <code>tests</code> directory as long as they
use the <code>test_*</code> naming convention.</p><h2 id=adding-sphinx-documentation>Adding Sphinx documentation<a hidden class=anchor aria-hidden=true href=#adding-sphinx-documentation>#</a></h2><p>Next, we set up Sphinx to generate documentation for out Catlifier from the source code
automatically. This can be done using the
<a href=https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html><code>autodoc</code></a> extension. We also
want to use the <a href=https://www.sphinx-doc.org/en/master/usage/extensions/intersphinx.html><code>intersphinx</code></a>
extension to provide cross-referencing to external packages like <code>crcmod</code> and the
<a href=https://www.sphinx-doc.org/en/master/usage/extensions/doctest.html><code>doctest</code></a> extension to
automatically test code examples inside the documentation which we marked specifically.</p><p>Finally, I also added the <a href=https://sphinx-rtd-theme.readthedocs.io/en/stable/><code>shinx_rtd_theme</code></a>
which is a bit cleaner and and more readable than the default <a href=https://alabaster.readthedocs.io/en/latest/><code>Alabaster</code></a>
theme provided by Sphinx by default in my opinion.</p><p>We create a documentation folder first and install all required packages.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>pip install sphinx-rtd-theme
</span></span><span class=line><span class=cl>mkdir docs
</span></span><span class=line><span class=cl><span class=nb>cd</span> docs
</span></span><span class=line><span class=cl>sphinx-quickstart --no-sep -p <span class=s2>&#34;Catlifier&#34;</span> -a <span class=s2>&#34;Robin Mueller&#34;</span> -r <span class=s2>&#34;0.1.0&#34;</span> -l en
</span></span></code></pre></div><p>This gives us a good starting point with a <code>conf.py</code> lookling like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># Configuration file for the Sphinx documentation builder.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># For the full list of built-in configuration values, see the documentation:</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -- Project information -----------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>importlib.metadata</span> <span class=kn>import</span> <span class=n>version</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>project</span> <span class=o>=</span> <span class=s1>&#39;Catlifier&#39;</span>
</span></span><span class=line><span class=cl><span class=n>copyright</span> <span class=o>=</span> <span class=s1>&#39;2023, Robin Mueller&#39;</span>
</span></span><span class=line><span class=cl><span class=n>author</span> <span class=o>=</span> <span class=s1>&#39;Robin Mueller&#39;</span>
</span></span><span class=line><span class=cl><span class=n>release</span> <span class=o>=</span> <span class=s2>&#34;0.1.0&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -- General configuration ---------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>extensions</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>templates_path</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_templates&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>exclude_patterns</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_build&#39;</span><span class=p>,</span> <span class=s1>&#39;Thumbs.db&#39;</span><span class=p>,</span> <span class=s1>&#39;.DS_Store&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>language</span> <span class=o>=</span> <span class=s1>&#39;en&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -- Options for HTML output -------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>html_theme</span> <span class=o>=</span> <span class=s1>&#39;alabaster&#39;</span>
</span></span><span class=line><span class=cl><span class=n>html_static_path</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_static&#39;</span><span class=p>]</span>
</span></span></code></pre></div><p>Next, we make all the necessary adaptions to the configuration file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># Configuration file for the Sphinx documentation builder.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># For the full list of built-in configuration values, see the documentation:</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -- Project information -----------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>importlib.metadata</span> <span class=kn>import</span> <span class=n>version</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>project</span> <span class=o>=</span> <span class=s1>&#39;Catlifier&#39;</span>
</span></span><span class=line><span class=cl><span class=n>copyright</span> <span class=o>=</span> <span class=s1>&#39;2023, Robin Mueller&#39;</span>
</span></span><span class=line><span class=cl><span class=n>author</span> <span class=o>=</span> <span class=s1>&#39;Robin Mueller&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># Use importlib.metadata API to extract version automatically</span>
</span></span><span class=line><span class=cl><span class=n>version</span> <span class=o>=</span> <span class=n>release</span> <span class=o>=</span> <span class=n>version</span><span class=p>(</span><span class=s2>&#34;catlifier&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -- General configuration ---------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>extensions</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sphinx.ext.autodoc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sphinx.ext.intersphinx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sphinx.ext.doctest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sphinx_rtd_theme&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Disable the doctests of the full package because those would require the explicit specification</span>
</span></span><span class=line><span class=cl><span class=c1># of imports. The doctests inside the source code are covered by pytest, using the --doctest-modules</span>
</span></span><span class=line><span class=cl><span class=c1># configuration option.</span>
</span></span><span class=line><span class=cl><span class=n>doctest_test_doctest_blocks</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>templates_path</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_templates&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>exclude_patterns</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_build&#39;</span><span class=p>,</span> <span class=s1>&#39;Thumbs.db&#39;</span><span class=p>,</span> <span class=s1>&#39;.DS_Store&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Mapping for external packages</span>
</span></span><span class=line><span class=cl><span class=n>intersphinx_mapping</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;python&#34;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&#34;https://docs.python.org/3&#34;</span><span class=p>,</span> <span class=kc>None</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;crcmod&#34;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&#34;https://crcmod.sourceforge.net/&#34;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>language</span> <span class=o>=</span> <span class=s1>&#39;en&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># -- Options for HTML output -------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=c1># https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>html_theme</span> <span class=o>=</span> <span class=s2>&#34;sphinx_rtd_theme&#34;</span>
</span></span><span class=line><span class=cl><span class=n>html_static_path</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;_static&#39;</span><span class=p>]</span>
</span></span></code></pre></div><p>Next, we add example code, which will be automatically tested by the <code>doctest</code> extension.
We create a new <code>examples.rst</code> inside the <code>docs</code> folder with the following content:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rst data-lang=rst><span class=line><span class=cl><span class=gh>Examples</span>
</span></span><span class=line><span class=cl><span class=gh>===========</span>
</span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>Example usage<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=p>..</span> <span class=ow>testcode</span><span class=p>::</span> catlifier<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    from catlifier import Catlifier<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    <span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    test_string = &#34;hello world&#34; <span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    catlifier = Catlifier(test_string)<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    print(catlifier.catlify())<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    <span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>Output:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=p>..</span> <span class=ow>testoutput</span><span class=p>::</span> catlifier<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    hello worldüêà<span class=err>
</span></span></span></code></pre></div><p><code>doctest</code> will automatically <code>testcode</code> sections and verify their output against the
<code>testoutput</code> section. You can also add <a href=https://docs.python.org/3/library/doctest.html>doctests</a>
inside the documentation blocks of your source code, but for those it might be better to test
them with another tool like <code>pytest</code>.</p><p>We would also like to document our API, and generate that documentation automatically
from the source code. For this, we create a new <code>api.rst</code> with the following content:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rst data-lang=rst><span class=line><span class=cl><span class=gh>API</span>
</span></span><span class=line><span class=cl><span class=gh>====</span>
</span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=p>..</span> <span class=ow>automodule</span><span class=p>::</span> catlifier<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span> <span class=nc>:members:</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span> <span class=nc>:undoc-members:</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span> <span class=nc>:show-inheritance:</span>
</span></span></code></pre></div><p>Then, we create a new documentation table of content inside the <code>index.rst</code> file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-rst data-lang=rst><span class=line><span class=cl><span class=gh>Welcome to Catlifer&#39;s documentation!</span>
</span></span><span class=line><span class=cl><span class=gh>====================================</span>
</span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=p>..</span> <span class=ow>toctree</span><span class=p>::</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>   <span class=nc>:maxdepth:</span> <span class=nf>2</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>   <span class=nc>:caption:</span> <span class=nf>Contents:</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=p>..</span> <span class=ow>toctree</span><span class=p>::</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>   <span class=nc>:maxdepth:</span> <span class=nf>3</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>   examples<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>   api<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=gh>Indices and tables</span>
</span></span><span class=line><span class=cl><span class=gh>==================</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>*</span> <span class=na>:ref:</span><span class=nv>`genindex`</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=m>*</span> <span class=na>:ref:</span><span class=nv>`modindex`</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=m>*</span> <span class=na>:ref:</span><span class=nv>`search`</span><span class=err>
</span></span></span></code></pre></div><p>We can now build the documentation using <code>make html</code> inside the <code>docs</code> folder.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span> docs
</span></span><span class=line><span class=cl>make html 
</span></span><span class=line><span class=cl>firefox _build/html/index.html
</span></span></code></pre></div><p>If you check the API documentation, you should also see that the <a href=https://crcmod.sourceforge.net/crcmod.predefined.html#crcmod.predefined.PredefinedCrc><code>PredefinedCrc</code></a>
cross-reference is working properly.</p><p>You can test the examples using</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>cd</span> docs
</span></span><span class=line><span class=cl>make doctest
</span></span></code></pre></div><p>The best thing about this is that this can be checked in the CI, so you can catch your examples
becoming out of data, for example when the API changes.</p><p>This is a good starting point for providing useful documentation for users üéâ. If you work on
an open-source project, you should also consider a service like <a href=https://docs.readthedocs.io/en/stable/>readthedocs</a>
where you can host the documentation of your package for free.</p><p>As a final step, I also like to add a <code>docs</code> specific <code>requirements.txt</code> file which only includes
the dependencies for building the documentation with the following content.</p><p><code>docs/requirements.txt</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>sphinx-rtd-theme==1.2.0
</span></span></code></pre></div><h2 id=testing-the-upload-of-the-package>Testing the upload of the package<a hidden class=anchor aria-hidden=true href=#testing-the-upload-of-the-package>#</a></h2><p>Most of the following steps are based on the official <a href=https://packaging.python.org/en/latest/tutorials/packaging-projects/>packaging tutorial</a>.
We have the most important components of our package and would like to upload it to PyPI now.
We build the package first like already shown.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>python3 -m build .
</span></span></code></pre></div><p>After that, you can create an account on <a href=https://test.pypi.org>Test PyPI</a> to test your package
upload without affecting the normal package index.</p><p>With everything in place, you can upload with</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>python3 -m twine upload --repository testpypi dist/*
</span></span></code></pre></div><p>If everything goes well, you should see your package on the Test PyPI.</p><p>Before uploading any package and doing releases in general, I really like to add a CHANGELOG to
a project so it becomes easier for users to figure out what changed between versions. I usually use
the CHANGELOG format proposed by <a href=https://keepachangelog.com/en/1.1.0/>Keep A Changelog</a>.</p><h2 id=adding-github-ci>Adding GitHub CI<a hidden class=anchor aria-hidden=true href=#adding-github-ci>#</a></h2><p>Finally, assuming that your project is hosted on GitHub, it is relatively easy to add a CI
configuration for your Python project.</p><p>Our CI configuration will install the package, run the tests, build the documentation and
lint the code with <code>ruff</code>. Add a <code>.github/workflows/ci.yml</code> file to your project:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ci</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>push]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>${{ matrix.os }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>strategy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>matrix</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>os</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>ubuntu-latest, windows-latest]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;3.8&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3.9&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3.10&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;3.11&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up Python ${{ matrix.python-version }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-python@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=l>${{ matrix.python-version }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install package and dependencies</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python3 -m pip install --upgrade pip setuptools wheel
</span></span></span><span class=line><span class=cl><span class=sd>        pip install .</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build documentation and examples</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        pip install -r docs/requirements.txt
</span></span></span><span class=line><span class=cl><span class=sd>        sphinx-build -b html docs docs/_build
</span></span></span><span class=line><span class=cl><span class=sd>        sphinx-build -b doctest docs docs/_build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Lint with Ruff</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>chartboost/ruff-action@v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run tests and generate coverage data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>        python3 -m pip install coverage pytest
</span></span></span><span class=line><span class=cl><span class=sd>        coverage run -m pytest</span><span class=w>
</span></span></span></code></pre></div><p>If you push your package to GitHub now, The GitHub code actions CI should trigger automatically.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>We have written a complete small package contaning all the features I consider important
for a good Python package. I hope that this mini-workshop can help some people who are considering
publishing their project to PyPI or are looking for a general guide on how to set up a Python
package.</p><p>You can find the full resulting source code on <a href=https://github.com/robamu/catlifier-py>GitHub</a>
as well. You can also have a look at <a href=https://py-pkgs.org/00-preface>the py-pkgs</a> project
which goes more indepth than this mini-workshop goes.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://robamu.github.io/tags/python/>Python</a></li><li><a href=https://robamu.github.io/tags/packaging/>Packaging</a></li><li><a href=https://robamu.github.io/tags/pip/>Pip</a></li><li><a href=https://robamu.github.io/tags/workshop/>Workshop</a></li></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on x" href="https://x.com/intent/tweet/?text=Packaging%20Python%20Projects%20in%202023&amp;url=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f&amp;hashtags=python%2cpackaging%2cpip%2cworkshop"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f&amp;title=Packaging%20Python%20Projects%20in%202023&amp;summary=Packaging%20Python%20Projects%20in%202023&amp;source=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f&title=Packaging%20Python%20Projects%20in%202023"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on whatsapp" href="https://api.whatsapp.com/send?text=Packaging%20Python%20Projects%20in%202023%20-%20https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on telegram" href="https://telegram.me/share/url?text=Packaging%20Python%20Projects%20in%202023&amp;url=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Packaging Python Projects in 2023 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Packaging%20Python%20Projects%20in%202023&u=https%3a%2f%2frobamu.github.io%2fblog%2fpackaging-python-in-2023%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//https-robamu-github-io.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><script data-goatcounter=https://robamu.goatcounter.com/count async src=//gc.zgo.at/count.js></script><footer class=footer><span>&copy; 2025 <a href=https://robamu.github.io/>hi, I am robin</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>